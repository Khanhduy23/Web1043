<header>
    <div class="header-section-top">
        <div class="logo">
            <a href="index.html"><img src="asset/img/FZONE.png" alt="Fzone logo"></a>
        </div>
        <div class="icon-maybay">
            <i class="fa-solid fa-plane" style="color: #7289b1;"></i>
            <div class="hello">Giao hàng - <span>siêu nhanh</span></div>
        </div>
        <div class="input">
            <form id="searchForm">
                <input type="text" id="searchQuery" name="query" placeholder="Tìm kiếm" required>
                <button type="submit"><i class="fa-solid fa-search"></i></button>
            </form>
        </div>     
        <nav class="nav-top">
            <ul>
                <li><a href="#"><i class="fa-solid fa-circle-info"></i> Thông tin Fzone</a></li>
                <li><a href="#"><i class="fa-solid fa-headset"></i> Hỗ trợ</a></li>
                <li><a href="giohang.html"><i class="fa-solid fa-user"></i> Giỏ hàng</a></li>
                <li><a href="dangnhap.html"><i class="fa-solid fa-user"></i> Đăng Nhập</a></li>
            </ul>
        </nav>
    </div>
    <nav class="nav-section">
        <ul>
            <li><a href="#">Ưu đãi hôm nay</a></li>
            <li><a href="#">Dịch vụ khách hàng</a></li>
            <li><a href="#">Thẻ quà tặng</a></li>
            <li><a href="#">Kênh người bán</a></li>
        </ul>
    </nav>
</header>
<script>
document.getElementById('searchForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Ngăn gửi form theo cách mặc định

    const query = document.getElementById('searchQuery').value.trim().toLowerCase();

    // Kiểm tra tính hợp lệ của từ khóa
    isValidSearchQuery(query).then(isValid => {
        if (isValid) {
            // Chuyển đến trang danh sách sản phẩm với từ khóa tìm kiếm
            window.location.href = `sanphamtainghe.html?query=${encodeURIComponent(query)}`;
        } else {
            alert('Không có sản phẩm nào liên quan đến từ khóa tìm kiếm của bạn.');
        }
    });
});

function isValidSearchQuery(query) {
    return fetch('asset/json/products.json') // Đường dẫn đến tệp JSON chứa danh sách sản phẩm
        .then(response => response.json())
        .then(data => {
            return data.some(product => product.name.toLowerCase().includes(query));
        });
}

</script>
